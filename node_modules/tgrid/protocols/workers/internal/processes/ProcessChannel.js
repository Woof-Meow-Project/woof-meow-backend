"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ProcessChannel = void 0;
/**
 * @packageDocumentation
 * @module tgrid.protocols.workers
 */
//----------------------------------------------------------------
/**
 * @hidden
 */
var ProcessChannel = /** @class */ (function () {
    function ProcessChannel() {
    }
    ProcessChannel.postMessage = function (message) {
        global.process.send(message);
    };
    ProcessChannel.close = function () {
        global.process.exit();
    };
    Object.defineProperty(ProcessChannel, "onmessage", {
        set: function (listener) {
            global.process.on("message", function (msg) {
                listener({ data: msg });
            });
        },
        enumerable: false,
        configurable: true
    });
    ProcessChannel.is_worker_server = function () {
        return !!global.process.send;
    };
    return ProcessChannel;
}());
exports.ProcessChannel = ProcessChannel;
//# sourceMappingURL=ProcessChannel.js.map